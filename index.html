<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hola Mundo - Original</title>
  <style>
    :root{
      --bg1: #0f172a;
      --bg2: #0b1220;
      --accent: #6ee7b7;
      --accent2: #60a5fa;
    }
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial}
    body{
      background: radial-gradient(1200px 600px at 10% 20%, rgba(96,165,250,0.08), transparent),
                  radial-gradient(900px 500px at 90% 80%, rgba(110,231,183,0.06), transparent),
                  linear-gradient(180deg,var(--bg1),var(--bg2));
      display:flex;align-items:center;justify-content:center;color:#e6eef8;
      -webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;
      padding:32px;
    }

    .card{
      width:100%;max-width:820px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.04);backdrop-filter: blur(6px);
      padding:36px;border-radius:14px;box-shadow:0 8px 30px rgba(2,6,23,0.6);
      display:grid;grid-template-columns:1fr 220px;gap:20px;align-items:center;
    }

    .hello{
      display:flex;flex-direction:column;gap:14px;
    }

    .word{
      font-weight:800;font-size:64px;line-height:1;
      background:linear-gradient(90deg,var(--accent),var(--accent2));
      -webkit-background-clip:text;background-clip:text;color:transparent;
      filter: drop-shadow(0 6px 18px rgba(34,197,94,0.08));
      letter-spacing:-1px;
    }

    .subtitle{color:rgba(230,238,248,0.78);font-size:14px}

    .controls{
      display:flex;flex-wrap:wrap;gap:10px;margin-top:6px;
    }
    button{
      appearance:none;border:0;padding:10px 14px;border-radius:10px;background:rgba(255,255,255,0.03);
      color:inherit;cursor:pointer;font-weight:600;font-size:14px;
      transition:transform .12s ease,background .12s ease,box-shadow .12s ease;
      box-shadow: 0 4px 18px rgba(2,6,23,0.25);
    }
    button:active{transform:translateY(1px) scale(.998)}
    button.primary{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#021025}
    .lang-list{display:flex;gap:8px;flex-wrap:wrap}
    .lang{padding:8px 10px;border-radius:8px;background:rgba(255,255,255,0.02);font-size:13px}

    .preview{
      display:flex;align-items:center;justify-content:center;height:140px;border-radius:10px;
      background:linear-gradient(180deg,rgba(255,255,255,0.015),rgba(255,255,255,0.01));
      border:1px dashed rgba(255,255,255,0.02);
      color:rgba(230,238,248,0.9);font-size:18px;padding:18px;text-align:center;
    }

    .wave{
      width:100%;height:6px;margin-top:6px;border-radius:999px;overflow:hidden;background:rgba(255,255,255,0.02);
    }
    .wave > i{
      display:block;height:100%;width:40%;background:linear-gradient(90deg,var(--accent),var(--accent2));
      transform:translateX(-40%);animation:slide 3s linear infinite;
    }
    @keyframes slide{to{transform:translateX(100%) } }

    @media (max-width:760px){
      .card{grid-template-columns:1fr;gap:14px}
      .word{font-size:44px}
    }
  </style>
</head>
<body>
  <main class="card" role="main" aria-labelledby="greet">
    <div class="hello">
      <div>
        <div id="greet" class="word" aria-live="polite">Hola, mundo!</div>
        <div class="wave" aria-hidden="true"><i></i></div>
      </div>

      <div class="subtitle" id="subtitle">Un saludo con estilo â€” interactivo y accesible</div>

      <div class="controls" aria-hidden="false">
        <div class="lang-list" id="langs" role="tablist" aria-label="Idiomas">
          <!-- lenguaje dinÃ¡mico -->
        </div>

        <div style="flex:1"></div>

        <button id="speak" class="primary" title="Reproducir">ðŸ”Š Reproducir voz</button>
        <button id="replay" title="Reiniciar">âŸ² Reiniciar</button>
      </div>
    </div>

    <aside class="preview" aria-hidden="false" id="preview">
      Tip: pulsa "Reproducir voz" para escuchar, o cambia el idioma.
    </aside>
  </main>

  <script>
    // Mensajes en varios idiomas (original y simpÃ¡tico)
    const messages = [
      {code:'es', label:'EspaÃ±ol', text:'Â¡Hola, mundo!'},
      {code:'en', label:'English', text:'Hello, world!'},
      {code:'fr', label:'FranÃ§ais', text:'Salut, monde!'},
      {code:'de', label:'Deutsch', text:'Hallo, Welt!'},
      {code:'eo', label:'Esperanto', text:'Saluton, mondo!'}
    ];

    const greet = document.getElementById('greet');
    const langsEl = document.getElementById('langs');
    const preview = document.getElementById('preview');
    const speakBtn = document.getElementById('speak');
    const replayBtn = document.getElementById('replay');

    let current = 0;
    let typingTimer = null;

    function renderLangButtons(){
      messages.forEach((m, i) => {
        const btn = document.createElement('button');
        btn.className = 'lang';
        btn.type = 'button';
        btn.textContent = m.label;
        btn.setAttribute('role','tab');
        btn.onclick = () => { select(i); };
        if(i === current) btn.style.outline = '2px solid rgba(110,231,183,0.14)';
        langsEl.appendChild(btn);
      });
    }

    function typeText(text, node, speed = 50){
      clearInterval(typingTimer);
      node.textContent = '';
      let i = 0;
      typingTimer = setInterval(()=> {
        node.textContent += text[i++] || '';
        if(i > text.length) clearInterval(typingTimer);
      }, speed);
    }

    function select(index){
      current = index % messages.length;
      // update highlight
      Array.from(langsEl.children).forEach((b, i) => b.style.outline = i===current ? '2px solid rgba(110,231,183,0.14)' : 'none');
      const msg = messages[current];
      typeText(msg.text, greet, 46);
      preview.textContent = `Preview (${msg.code}): ${msg.text}`;
      console.log('Seleccionado:', msg);
    }

    function speakCurrent(){
      const msg = messages[current];
      if(!('speechSynthesis' in window)){
        alert('Tu navegador no soporta SpeechSynthesis.');
        return;
      }
      const utter = new SpeechSynthesisUtterance(msg.text);
      utter.lang = msg.code;
      utter.rate = 1;
      utter.pitch = 1;
      // Try to choose a matching voice if available
      const voices = speechSynthesis.getVoices();
      const match = voices.find(v => v.lang.startsWith(msg.code));
      if(match) utter.voice = match;
      speechSynthesis.cancel();
      speechSynthesis.speak(utter);
      console.log('Hablando:', msg.text, 'voz:', utter.voice ? utter.voice.name : 'default');
    }

    // InicializaciÃ³n
    renderLangButtons();
    select(0);

    // Cambios periÃ³dicos automÃ¡ticos (cada 6s)
    let auto = setInterval(()=> select((current+1)%messages.length), 6000);

    // Botones
    speakBtn.onclick = () => { speakCurrent(); };
    replayBtn.onclick = () => { select(current); };

    // Pausar autoplay al interactuar
    document.addEventListener('click', ()=> { clearInterval(auto); auto = null; }, { once:true });

    // Ensure voices are loaded (some browsers load them async)
    if (typeof speechSynthesis !== 'undefined') {
      speechSynthesis.onvoiceschanged = () => { /* no-op, voices will be used when speaking */ };
    }

    // Log para desarrollo
    console.log('Hola mundo interactivo cargado. Carpeta:', location.pathname);
  </script>
</body>
</html>